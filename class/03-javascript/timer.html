<!DOCTYPE html>
<html lang="en">
<head>
    <title>타이머</title>

    <script>
        // 인증번호 전송 + 10초 타이머
        // function randomNumber(){
        //     const random = String(Math.floor(Math.random()*1000000)).padStart(6, "0")
        //     document.getElementById("random").innerText = random
        
        //     let time = 10
        //     //시간 반복
        //     setInterval(function(){

        //         if(time >= 0){
        //             document.getElementById("timer").innerText = time
        //             time = time - 1
        //         }

        //     }, 1000) 
        
        // }

        // 인증번호 전송 + 3분 타이머

        let isStarted = false
        function getToken(){
            if(isStarted === false){
                isStarted === true

                const random = String(Math.floor(Math.random()*1000000)).padStart(6, "0")
                document.getElementById("random").innerText = random
            
                let time = 180
                setInterval(function(){

                    if(time >= 0){
                        const minutes = String(Math.floor(time / 60)).padStart(2, "0") //분
                        const seconds = String(time % 60).padStart(2, "0") //초
                        document.getElementById("timer").innerText = minutes + ":" + seconds
                        time = time - 1
                    }
                }, 1000)

            } else {
                alert("이미 실행되었습니다!")
            }
        }

        // padStart는 문자에 있는 기능. 숫자에는 ㄴㄴ

        // function randomNumber(){
        //     const random = String(Math.floor(Math.random()*1000000)).padStart(6, "0")
        //     document.getElementById("random").innerText = random
        
        //     let time = 180
        //     setInterval(function(){

        //         if(time >= 0){
        //             const minutes = Math.floor(time / 60) //분
        //             const seconds = String(time % 60).padStart(2, "0") //초
        //             document.getElementById("timer").innerText = minutes + ":" + seconds
        //             time = time - 1
        //         }

        //     }, 1000)
        
        // }
    </script>

    <style>
        div{
            margin-bottom: 20px;
        }

        button{
            background-color: gray;
            border: none;
            padding: 7px 10px;
            border-radius: 2px;
            color: white;
            margin-left: 10px;
            cursor: pointer;
            font-weight: 500;
        }

        button:hover{
            background-color: rgb(98, 98, 98);
            transition: 0.5s;
        }
    </style>
</head>
<body>
    <div>
        <span id="random">000000</span>
        <button onclick="getToken()">
            인증번호 전송
        </button>
    </div>

    <div>
        <span id="timer">03:00</span>
        <button disabled>인증완료</button>
        <!-- 비활성화 -->
    </div>
</body>
</html>